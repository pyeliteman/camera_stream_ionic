<ion-content class="bg-images">
    <div class="main-container">
        <ion-header class="main-header">
            <!-- <ion-grid class="p-30"> -->
                <ion-item lines="none" class="ion-padding pr-0">
                    <ion-avatar slot="start" class="ml-5">
                        <img class="imgSize ml-5" src="assets/images/logo-CC.png">
                    </ion-avatar>
                    <ion-buttons slot="end" class="ion-no-margin">
                        <ion-button fill="clear" class="plain-button-color active" [ngClass]="{'plain-button-color': activeTab == 'login', 'plain-button-black': activeTab != 'login'}" (click)="loginTab()">Sign In</ion-button>
                        <ion-button fill="clear" class="plain-button-black active" [ngClass]="{'plain-button-color': activeTab == 'register', 'plain-button-black': activeTab != 'register'}" (click)="registerTab()">Sign Up</ion-button>
                    </ion-buttons>
                </ion-item>
            <!-- </ion-grid> -->
            
        </ion-header>

        <div *ngIf="activeTab == 'login'">
            <form [formGroup]="loginForm" (ngSubmit)="login()" autocomplete="off" class="form-login">
            <ion-row class="ion-padding login-body">
                <ion-col class="ion-padding" size="12">
                    <ion-row>
                        <ion-col>
                            <ion-text class="large-font" color="primary">Welcome back</ion-text>
                                <ion-text class="large-font "> Sign-in to continue. </ion-text>
                        </ion-col>
                    </ion-row>
                </ion-col>

                <ion-col class="ion-padding-horizontal input-box">
                    <div class="ion-margin-vertical">
                        <ion-input class="white-background form-control text-light ion-margin-start" name="userName" required formControlName="userName" type="text" placeholder="Username / Email / Phone number">
                            <ion-text color="primary" class="mr-5"><ion-icon class="icon-size" name="person-circle-outline"></ion-icon></ion-text>
                        </ion-input>
                        <span class="text-danger" slot="end" *ngIf="(loginFormControl.userName.touched || loginSubmitted) && loginFormControl.userName.errors?.required">
                            User name is required</span>
                    </div>
                    <div>
                        <ion-input class="white-background form-control text-light ion-margin-start" name="password" required formControlName="password" type="password" placeholder="Password">
                            <ion-text color="primary" class="mr-5"><ion-icon class="icon-size" name="lock-closed-outline"></ion-icon></ion-text>
                        </ion-input>
                        <span class="text-danger" slot="end" *ngIf="(loginFormControl.password.touched || loginSubmitted) && loginFormControl.password.errors?.required">
                            Password is required</span> 
                    </div>
                </ion-col>
                <ion-col class="ion-padding-horizontal" size="12">
                <ion-row>
                    <ion-col class="ion-text-right ion-margin-top">
                        <button block outline class="medium-button-primary" type="submit" [disabled]="loginSubmitted || loginFormControl.userName.errors?.required || loginFormControl.password.errors?.required">
                            Login
                            <ion-spinner class="spinner-size" *ngIf="loginSubmitted"></ion-spinner>
                        </button>
                    </ion-col>
                    </ion-row>
                    <ion-row>
                            <ion-col class="ion-text-right">
                                <ion-text class="text-light">Forgot password ? </ion-text>
                            </ion-col>
                    </ion-row>
                </ion-col>
                <ion-col class="ion-padding-horizontal"  size="12">
                    <ion-row class="ion-padding-top">
                            <ion-col>
                                <ion-text class="text-dark">Login with</ion-text>
                            </ion-col>
                        </ion-row>
                        <ion-row class="ion-padding-bottom">
                            <ion-col size="2" class="ion-text-left">
                                <button block outline class="square-button">
                                    <ion-text color="primary"><ion-icon class="icon-size" name="logo-google"></ion-icon></ion-text>
                                </button>
                            </ion-col>
                            <ion-col>
                                <button block outline class="square-button">
                                    <ion-text color="primary"><ion-icon class="icon-size" name="logo-facebook"></ion-icon></ion-text>
                                </button>
                            </ion-col>
                        </ion-row>
                        <ion-row class="ion-padding-top">
                            <ion-col class="ion-text-center">
                                <button block outline class="medium-button-white" routerLink="/maintabs/international">Skip Login</button>
                            </ion-col>
                        </ion-row>
                </ion-col>

                </ion-row>
            </form>
        </div>

        <div *ngIf="activeTab == 'register'">
            <form [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off" class="form-login">
                <ion-row>
                    <ion-col>
                        <ion-text class="ml-10 large-font" color="primary">Register</ion-text>
                    </ion-col>
                </ion-row>
                <ion-row class="ion-padding login-body pt-0">
                    <ion-col class="ion-padding-horizontal input-box" size="12">
                        <div class="ion-margin-vertical">
                            <ion-input class="white-background form-control text-light ion-margin-start" name="firstName" required formControlName="firstName" type="text" placeholder="First Name"></ion-input>
                            <span class="text-danger" slot="end" *ngIf="(registerFormControl.firstName.touched || registerSubmitted) && registerFormControl.firstName.errors?.required">
                                First Name is required
                            </span>
                        </div>
                        <div class="ion-margin-vertical">
                            <ion-input class="white-background form-control text-light ion-margin-start" name="lastName" required formControlName="lastName" type="text" placeholder="Last Name"></ion-input>
                            <span class="text-danger" slot="end" *ngIf="(registerFormControl.lastName.touched || registerSubmitted) && registerFormControl.lastName.errors?.required">
                                Last Name is required
                            </span>
                        </div>
                        <div class="ion-margin-vertical">
                            <ion-input class="white-background form-control text-light ion-margin-start" type="email" name="email" placeholder="Email" formControlName="email"></ion-input>
                            <span class="text-danger"
                                *ngIf="(registerFormControl.email.touched || submitted) && registerFormControl.email.errors?.required">
                                Email is required
                            </span>
                            <span class="text-danger"
                                *ngIf="registerFormControl.email.touched && registerFormControl.email.errors?.email">
                                Enter a valid email address
                            </span>
                        </div>
                        <!-- <div class="ion-margin-vertical">
                            <ion-input class="white-background form-control text-light ion-margin-start" name="mobileCode" required formControlName="mobileCode" type="text" placeholder="Mobile Code"></ion-input>
                            <ion-input class="white-background form-control text-light ion-margin-start" name="phoneNumber" required formControlName="phoneNumber" type="text" placeholder="Mobile Number"></ion-input>
                            <span class="text-danger" slot="end" *ngIf="(registerFormControl.phoneNumber.touched || registerSubmitted) && registerFormControl.phoneNumber.errors?.required">
                                Mobile code is required
                            </span>
                        </div> -->
                        <ion-row>                      
                            <ion-col size="5">  
                              <div style="width: 100%;border-bottom: 1px solid #dd5727;height: 39px;">
                                <div class="d-flex"> 
                                  <div style="width: 36px; min-width: 36px; padding-top:2px">
                                      <ion-img [src]="'/assets/images/flags/latest/' + registerForm.value.countryCode + '.png'" width="100%" style="float: left;"></ion-img> 
                                  </div>

                                    <div class="country-code-width">
                                        <ion-select style="text-align: center; border:none" (click)="addSearchAndFlags()" id="country_code_flags" placeholder="+" formControlName="countryCode" name="country_code_flag">
                                            <ion-select-option [value]="country.code" *ngFor="let country of countriesList">
                                                <span>
                                                    +{{ country.mobileCode }} ({{country.code}})
                                                </span>
                                            </ion-select-option>
                                            <!-- <ion-select-option [value]="USA">
                                                <span>USA</span>
                                            </ion-select-option> -->
                                        </ion-select>
                                        <span class="text-danger" *ngIf="(registerFormControl.countryCode.touched || registerSubmitted) && registerFormControl.countryCode.errors?.required">
                                        Country code is required
                                        </span>
                                    </div>
                                 
                                 
                                </div>
                                  <div style="clear:both;"></div>
                              </div>
                            </ion-col>
                            <ion-col size="7">
                                <div>
                                  <ion-input class="white-background form-control text-light ion-margin-start" type="number" placeholder="Mobile number" name="phoneNumber" formControlName="phoneNumber"></ion-input>
                                  <span class="text-danger" *ngIf="(registerFormControl.phoneNumber.touched || registerSubmitted) && registerFormControl.phoneNumber.errors?.required">
                                    Mobile number is required
                                  </span>
                                </div> 
                            </ion-col>
                        </ion-row>
                        <div class="ion-margin-vertical">
                            <ion-input class="white-background form-control text-light ion-margin-start" name="password" required formControlName="password" type="password" placeholder="Password"></ion-input>
                            <span class="text-danger" slot="end" *ngIf="(registerFormControl.password.touched || registerSubmitted) && registerFormControl.password.errors?.required">
                                Password is required
                            </span> 
                        </div>
                        <div class="ion-margin-vertical">
                            <ion-checkbox mode="md" class="form-control" formControlName="termsAcceptance" required style="border-bottom: 0px !important;"></ion-checkbox> 
                            I accept to Terms & Conditions and Privacy Policy
                            <p class="text-danger" style="float: left;" *ngIf="(registerFormControl.termsAcceptance.touched || registerSubmitted) && registerFormControl.termsAcceptance.errors?.required">
                            Please accept Terms & Conditions
                            </p> 
                        </div>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col class="ion-text-right ion-margin-top">
                        <button block outline [disabled]="!registerForm.valid && registerSubmitted" [class]="(!registerForm.valid && registerSubmitted) ? 'medium-button-grey' : 'medium-button-primary'" type="submit">
                            Send OTP
                            <ion-spinner class="spinner-size" *ngIf="loadingSpinner"></ion-spinner>
                        </button>
                    </ion-col>
                </ion-row>
            </form>
        </div>
    </div>
</ion-content>
<!-- <ion-footer style="background: #296CAC;">
    <ion-row class="ion-margin-bottom">
        <ion-col class="ion-text-center">
            <button block outline class="medium-button-white" routerLink="/maintabs">Skip Login</button>
        </ion-col>
    </ion-row>
</ion-footer> -->
    